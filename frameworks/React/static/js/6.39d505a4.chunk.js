(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[6],{163:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(28),s=function e(t){var i=this;Object(n.a)(this,e),this.timerName="",this.startTime=0,this.endTime=0,this.timesList={},this.rowsNumber=0,this.rowsNumberList=[],this.setRowsNumber=function(e){i.rowsNumber=e,i.addRowsNumberBenchmark(e)},this.startTimer=function(){i.startTime=performance.now()},this.stopTimer=function(){if(0!==i.startTime){i.endTime=performance.now();var e=i.endTime-i.startTime;i.timesList[i.rowsNumber].times.push(e),i.timesList[i.rowsNumber].totalTime=e,i.timesList[i.rowsNumber].times.length>2&&i.getAverageTime()}},this.addRowsNumberBenchmark=function(e){i.rowsNumberList.find((function(t){return t===e}))||(i.rowsNumberList.push(e),i.timesList[e]={times:[],averageTime:0,totalTime:0})},this.getAverageTime=function(){var e=i.timesList[i.rowsNumber].times,t=e.reduce((function(e,t){return e+t}));return i.timesList[i.rowsNumber].averageTime=t/e.length,i.timesList[i.rowsNumber].averageTime},this.clear=function(){i.startTime=0,i.endTime=0,i.timesList={}},this.timerName=t}},164:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(214),s=i(224),r=i(221),o=i(147),a=i(146),c=i(2),m=Object(a.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:150,marginBottom:"20px"}}})),l=function(e){var t=e.name,i=e.title,a=e.initialValue,l=e.selectDropdownList,d=e.handleChange,u=m();return Object(c.jsxs)(n.a,{variant:"outlined",className:u.formControl,children:[Object(c.jsx)(s.a,{children:i}),Object(c.jsx)(r.a,{name:t,value:a,onChange:d,MenuProps:{disableScrollLock:!0},label:i,children:l.map((function(e,t){return Object(c.jsx)(o.a,{value:e,children:e},t)}))})]})}},165:function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i(22),s=i(23),r=i(146),o=i(217),a=i(154),c=i(118),m=i(117),l=i(218),d=i(219),u=i(0),j=i(36),b=i(73),h=i.n(b),p=i(2),f=Object(r.a)({displayTimeContainer:{padding:"0 10px",textAlign:"center",border:"2px solid black",margin:"5px"},timeContainer:{marginBottom:"15px"}}),O=function(e){var t=e.title,i=e.timer,r=f(),c=Object(u.useState)(!1),m=Object(s.a)(c,2),l=m[0],d=m[1],b=i&&(i.timesList[i.rowsNumber].averageTime>0?i.timesList[i.rowsNumber].averageTime:i.timesList[i.rowsNumber].totalTime),O=function(e){d(e)},T={onClose:O,open:l,timer:i,title:t};return Object(p.jsxs)("div",{className:r.displayTimeContainer,children:[Object(p.jsxs)("div",{className:r.timeContainer,children:[Object(p.jsx)("h3",{children:Object(p.jsx)("strong",{children:t})}),i?Object(j.a)(b,5):0," ms"]}),Object(p.jsx)(o.a,{color:"secondary",badgeContent:i&&i.timesList[i.rowsNumber].times.length,children:Object(p.jsx)(a.a,{variant:"contained",color:"primary",onClick:function(){return O(!0)},children:Object(p.jsx)(h.a,{})})}),Object(p.jsx)(g,Object(n.a)({},T))]})},T=function(e){var t=e.times;return Object(p.jsx)(c.a,{children:t.map((function(e,t){return Object(p.jsxs)(m.a,{children:[Object(j.a)(e,5)," ms"]},t)}))})},v=Object(r.a)({padding:{padding:"0 15px 15px 15px"}}),g=function(e){var t=e.onClose,i=e.open,n=e.timer,s=e.title,r=v();return Object(p.jsx)(l.a,{onClose:function(){return t(!1)},open:i,children:Object(p.jsxs)("div",{className:"flex-column flex-center ".concat(r.padding),children:[Object(p.jsx)(d.a,{children:s}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Average time: "}),n?Object(j.a)(n.timesList[n.rowsNumber].averageTime,5):"0"," ms"]}),n?Object(p.jsx)(T,{times:n.timesList[n.rowsNumber].times}):Object(p.jsx)("p",{children:"No times to show."})]})})}},185:function(e,t,i){},222:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return B}));var n=i(22),s=i(28),r=i(24),o=i(46),a=i(45),c=i(0),m=i(163),l=i(142),d=(i(185),i(164)),u=i(165),j=i(2),b=function(e){var t=[{title:"Adding post",timer:e.addPostTimer},{title:"Updating post",timer:e.updatePostTimer},{title:"Getting post",timer:e.getPostTimer},{title:"Removing post",timer:e.deletePostTimer},{title:"Getting posts with comments",timer:e.getPostsWithCommentsTimer},{title:"Rendering 100 posts",timer:e.renderTimer}];return Object(j.jsx)(j.Fragment,{children:t.map((function(e,t){return Object(j.jsx)(u.a,Object(n.a)({},e),t)}))})},h=i(170),p=i.n(h),f=p.a.create({baseURL:"https://jsonplaceholder.typicode.com/",headers:{"Content-type":"application/json"}}),O=new(function(){function e(){Object(s.a)(this,e)}return Object(r.a)(e,[{key:"createPost",value:function(e){return f.post("posts",e)}},{key:"updatePost",value:function(e){return f.put("posts/"+e.id,e)}},{key:"getPost",value:function(e){return f.get("posts/"+e)}},{key:"deletePost",value:function(e){return f.delete("posts/"+e)}},{key:"getPosts",value:function(){return f.get("posts")}},{key:"getComments",value:function(){return f.get("comments")}},{key:"getPostsWithComments",value:function(){return p.a.all([this.getPosts(),this.getComments()]).then(p.a.spread((function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0].data,s=t[1].data;return n.map((function(e){return e.comments=s.filter((function(t){return t.postId===e.id})),e})),n})))}}]),e}()),T=Object(c.memo)((function(e){var t=e.title,i=e.body,n=e.comments;return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[Object(j.jsx)("h2",{children:t}),Object(j.jsxs)("div",{children:[Object(j.jsx)(l.a,{children:"Edit post"}),Object(j.jsx)(l.a,{children:"Delete post"})]})]}),Object(j.jsx)("td",{children:i}),Object(j.jsx)("td",{className:"comments-container",children:n.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:e.email}),Object(j.jsx)("h3",{children:e.body})]},t)}))})]})})),v=Object(c.memo)((function(e){var t=e.posts;return Object(j.jsx)("div",{className:"data-table",children:Object(j.jsx)("table",{children:Object(j.jsx)("tbody",{children:t.map((function(e,t){return Object(c.createElement)(T,Object(n.a)(Object(n.a)({},e),{},{key:t}))}))})})})})),g=i(23),x=i(20),P=i(227),y=i(218),C=i(219),w=i(146),N=Object(w.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"300px"}}}})),k=function(e){var t=e.onDialogClose,i=e.isEditing,s=e.selectedPost,r=N(),o=function(e){var t=Object(c.useState)(e),i=Object(g.a)(t,2),s=i[0],r=i[1],o=Object(c.useState)({}),a=Object(g.a)(o,2),m=a[0],l=a[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=Object(n.a)({},m);"title"in e&&(t.title=e.title?"":"This field is required."),"body"in e&&(t.body=e.body?"":"This field is required."),l(Object(n.a)({},t))};return{handleInputValue:function(e){var t=e.target,i=t.name,o=t.value;r(Object(n.a)(Object(n.a)({},s),{},Object(x.a)({},i,o))),d(Object(x.a)({},i,o))},formValues:s,formIsValid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return d(),e.title&&e.body&&Object.values(m).every((function(e){return""===e}))},errors:m}}({id:i?s.id:null,title:i?s.title:"",body:i?s.body:"",formSubmitted:!1,success:!1}),a=o.handleInputValue,m=o.formValues,d=o.errors,u=o.formIsValid;return Object(j.jsx)("div",{className:"flex-column flex-center",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),u()){var n={id:i?m.id:101,title:m.title,body:m.body};t(n)}},className:"flex-column "+r.root,children:[Object(j.jsx)(P.a,Object(n.a)({name:"title",value:m.title,variant:"outlined",onChange:a,onBlur:a,label:"Title"},d.title&&{error:!0,helperText:d.title})),Object(j.jsx)(P.a,Object(n.a)({name:"body",value:m.body,variant:"outlined",multiline:!0,onChange:a,onBlur:a,label:"Body",rows:"5"},d.body&&{error:!0,helperText:d.body})),Object(j.jsx)(l.a,{variant:"contained",type:"submit",color:"primary",children:"Submit"})]})})},L=Object(w.a)({padding:{padding:"0 15px 15px 15px"}}),S=function(e){var t=e.onClose,i=e.open,n=e.isEditing,s=e.selectedPost,r=L();return Object(j.jsxs)(y.a,{onClose:function(){return t(null)},open:i,children:[Object(j.jsx)(C.a,{children:n?"Edit post":"Add post"}),Object(j.jsx)("div",{className:"flex-column flex-center ".concat(r.padding),children:Object(j.jsx)(k,{onDialogClose:function(e){return t(e)},isEditing:n,selectedPost:s})})]})},E=function(e){var t=e.cb,i=e.isEditing,s=void 0!==i&&i,r=e.postId,o=Object(c.useState)(!1),a=Object(g.a)(o,2),m=a[0],d=a[1],u=Object(c.useState)({}),b=Object(g.a)(u,2),h=b[0],p=b[1],f={onClose:function(e){d(!1),e&&t(e)},open:m,isEditing:s,selectedPost:h};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{variant:"contained",color:"primary",className:"ButtonMargin",onClick:s?function(){O.getPost(r).then((function(e){p(e.data),d(!0)}))}:function(){d(!0)},children:s?"Edit post":"Add post"}),Object(j.jsx)(S,Object(n.a)({},f))]})},I=i(71),W=i.n(I),R=i(70),A=Array.from({length:100},(function(e,t){return t+1})),B=function(e){Object(o.a)(i,e);var t=Object(a.a)(i);function i(){var e;Object(s.a)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).addPostTimer=new m.a("addPostTimer"),e.updatePostTimer=new m.a("updatePostTimer"),e.getPostTimer=new m.a("getPostTimer"),e.getPostsWithCommentsTimer=new m.a("getPostsWithCommentsTimer"),e.deletePostTimer=new m.a("deletePostTimer"),e.renderTimer=new m.a("renderTimer"),e.state={posts:[],selectedPost:null,postId:1,addPostTimer:null,updatePostTimer:null,getPostTimer:null,getPostsWithCommentsTimer:null,deletePostTimer:null,renderTimer:null},e}return Object(r.a)(i,[{key:"componentDidMount",value:function(){this.setTimersRowsNumber(0)}},{key:"addPost",value:function(e){var t=this;this.addPostTimer.startTimer(),O.createPost(e).then((function(){t.addPostTimer.stopTimer(),t.setState({addPostTimer:t.addPostTimer})}))}},{key:"updatePost",value:function(e){var t=this;this.updatePostTimer.startTimer(),O.updatePost(e).then((function(){t.updatePostTimer.stopTimer(),t.setState({updatePostTimer:t.updatePostTimer})}))}},{key:"getSelectedPost",value:function(){var e=this;this.getPostTimer.startTimer(),O.getPost(this.state.postId).then((function(t){e.getPostTimer.stopTimer(),e.setState({selectedPost:t.data,getPostTimer:e.getPostTimer})}))}},{key:"getPostsWithComments",value:function(){var e=this;this.setState({posts:[]},(function(){e.getPostsWithCommentsTimer.startTimer(),O.getPostsWithComments().then((function(t){e.getPostsWithCommentsTimer.stopTimer(),e.renderTimer.startTimer(),e.setState({posts:t,getPostsWithCommentsTimer:e.getPostsWithCommentsTimer},(function(){e.renderTimer.stopTimer(),e.setState({renderTimer:e.renderTimer})}))}))}))}},{key:"deletePost",value:function(){var e=this;this.deletePostTimer.startTimer(),O.deletePost(this.state.postId).then((function(){e.deletePostTimer.stopTimer(),e.setState({deletePostTimer:e.deletePostTimer})}))}},{key:"handleRowsNumberChange",value:function(e){this.setState({postId:e})}},{key:"clear",value:function(){window.location.reload()}},{key:"setTimersRowsNumber",value:function(e){[this.addPostTimer,this.updatePostTimer,this.renderTimer,this.deletePostTimer,this.getPostTimer,this.getPostsWithCommentsTimer].forEach((function(t){t.setRowsNumber(e)}))}},{key:"saveTimesToExcel",value:function(){var e=[this.addPostTimer,this.updatePostTimer,this.renderTimer,this.deletePostTimer,this.getPostTimer,this.getPostsWithCommentsTimer];R.a.saveTimersToExcel(e,"JSON-PLACEHOLDER-REACT")}},{key:"render",value:function(){var e=this,t=this.state.selectedPost;return Object(j.jsxs)("div",{className:"json-placeholder-container",children:[Object(j.jsxs)("div",{className:"actions",children:[Object(j.jsx)("div",{children:Object(j.jsx)(d.a,{name:"postId",title:"Choose post id",initialValue:this.state.postId,handleChange:function(t){return e.handleRowsNumberChange(t.target.value)},selectDropdownList:A})}),Object(j.jsxs)("div",{className:"flex-row operations",children:[Object(j.jsx)(E,{cb:function(t){return e.addPost(t)}}),Object(j.jsx)(E,{cb:function(t){return e.updatePost(t)},isEditing:!0,postId:this.state.postId}),Object(j.jsx)(l.a,{variant:"contained",color:"primary",className:"ButtonMargin",onClick:function(){return e.getSelectedPost()},children:"Get post"}),Object(j.jsx)(l.a,{variant:"contained",color:"primary",className:"ButtonMargin",onClick:function(){return e.deletePost()},children:"Delete post"}),Object(j.jsx)(l.a,{variant:"contained",color:"primary",className:"ButtonMargin",onClick:function(){return e.getPostsWithComments()},children:"Get 100 posts with 500 comments"}),Object(j.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return e.clear()},children:"Clear"}),Object(j.jsx)(l.a,{variant:"contained",color:"default",startIcon:Object(j.jsx)(W.a,{}),onClick:function(){return e.saveTimesToExcel()},children:"Save times to excel"})]})]}),Object(j.jsx)("div",{className:"result-container",children:Object(j.jsx)(b,Object(n.a)({},this.state))}),Object(j.jsx)("div",{children:t&&Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Selected post:"})," ",t.id," | ",t.title," | ",t.body]})}),Object(j.jsx)(v,{posts:this.state.posts})]})}}]),i}(c.Component)}}]);
//# sourceMappingURL=6.39d505a4.chunk.js.map