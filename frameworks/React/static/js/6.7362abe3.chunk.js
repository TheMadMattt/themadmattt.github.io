(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[6],{149:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(33),r=function e(t){var n=this;Object(i.a)(this,e),this.timerName="",this.startTime=0,this.endTime=0,this.totalTime=0,this.times=[],this.averageTime=0,this.startTimer=function(){n.startTime=performance.now()},this.stopTimer=function(){0!==n.startTime&&(n.endTime=performance.now(),n.totalTime=n.endTime-n.startTime,n.times.push(n.totalTime),n.times.length>2&&n.getAverageTime())},this.getAverageTime=function(){var e=n.times.reduce((function(e,t){return e+t}));return n.averageTime=e/n.times.length,n.averageTime},this.clear=function(){n.startTime=0,n.endTime=0,n.totalTime=0,n.times=[],n.averageTime=0},this.timerName=t}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(198),r=n(208),s=n(205),o=n(133),a=n(132),c=n(2),l=Object(a.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,marginBottom:"20px"}}})),d=function(e){var t=e.title,n=e.initialValue,a=e.selectDropdownList,d=e.handleChange,m=l();return Object(c.jsxs)(i.a,{variant:"outlined",className:m.formControl,children:[Object(c.jsx)(r.a,{children:t}),Object(c.jsx)(s.a,{value:n,onChange:d,MenuProps:{disableScrollLock:!0},label:t,children:a.map((function(e,t){return Object(c.jsx)(o.a,{value:e,children:e},t)}))})]})}},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(22),r=n(23),s=n(132),o=n(201),a=n(140),c=n(104),l=n(103),d=n(202),m=n(203),u=n(0),j=n(31),h=n(66),b=n.n(h),p=n(2),f=Object(s.a)({displayTimeContainer:{padding:"0 10px",textAlign:"center",border:"2px solid black",margin:"5px"},timeContainer:{marginBottom:"15px"}}),O=function(e){var t=e.title,n=e.timer,s=f(),c=Object(u.useState)(!1),l=Object(r.a)(c,2),d=l[0],m=l[1],h=n&&(n.averageTime>0?n.averageTime:n.totalTime),O=function(e){m(e)},g={onClose:O,open:d,timer:n,title:t};return Object(p.jsxs)("div",{className:s.displayTimeContainer,children:[Object(p.jsxs)("div",{className:s.timeContainer,children:[Object(p.jsx)("h3",{children:Object(p.jsx)("strong",{children:t})}),n?Object(j.a)(h,5):0," ms"]}),Object(p.jsx)(o.a,{color:"secondary",badgeContent:n&&n.times.length,children:Object(p.jsx)(a.a,{variant:"contained",color:"primary",onClick:function(){return O(!0)},children:Object(p.jsx)(b.a,{})})}),Object(p.jsx)(T,Object(i.a)({},g))]})},g=function(e){var t=e.times;return Object(p.jsx)(c.a,{children:t.map((function(e,t){return Object(p.jsxs)(l.a,{children:[Object(j.a)(e,5)," ms"]},t)}))})},v=Object(s.a)({padding:{padding:"0 15px 15px 15px"}}),T=function(e){var t=e.onClose,n=e.open,i=e.timer,r=e.title,s=v();return Object(p.jsx)(d.a,{onClose:function(){return t(!1)},open:n,children:Object(p.jsxs)("div",{className:"flex-column flex-center ".concat(s.padding),children:[Object(p.jsx)(m.a,{children:r}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Average time: "}),i?Object(j.a)(i.averageTime,5):"0"," ms"]}),i?Object(p.jsx)(g,{times:i.times}):Object(p.jsx)("p",{children:"No times to show."})]})})}},169:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var i=n(22),r=n(33),s=n(24),o=n(45),a=n(44),c=n(0),l=n(149),d=n(128),m=(n(169),n(150)),u=n(153),j=n(2),h=function(e){var t=[{title:"Adding post",timer:e.addPostTimer},{title:"Updating post",timer:e.updatePostTimer},{title:"Getting post",timer:e.getPostTimer},{title:"Removing post",timer:e.deletePostTimer},{title:"Getting posts with comments",timer:e.getPostsWithCommentsTimer},{title:"Rendering 100 posts",timer:e.renderTimer}];return Object(j.jsx)(j.Fragment,{children:t.map((function(e,t){return Object(j.jsx)(u.a,Object(i.a)({},e),t)}))})},b=n(170),p=n.n(b),f=p.a.create({baseURL:"https://jsonplaceholder.typicode.com/",headers:{"Content-type":"application/json"}}),O=new(function(){function e(){Object(r.a)(this,e)}return Object(s.a)(e,[{key:"createPost",value:function(e){return f.post("posts",e)}},{key:"updatePost",value:function(e){return f.put("posts/"+e.id,e)}},{key:"getPost",value:function(e){return f.get("posts/"+e)}},{key:"deletePost",value:function(e){return f.delete("posts/"+e)}},{key:"getPosts",value:function(){return f.get("posts")}},{key:"getComments",value:function(){return f.get("comments")}},{key:"getPostsWithComments",value:function(){return p.a.all([this.getPosts(),this.getComments()]).then(p.a.spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0].data,r=t[1].data;return i.map((function(e){return e.comments=r.filter((function(t){return t.postId===e.id})),e})),i})))}}]),e}()),g=Object(c.memo)((function(e){var t=e.title,n=e.body,i=e.comments;return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[Object(j.jsx)("h2",{children:t}),Object(j.jsxs)("div",{children:[Object(j.jsx)(d.a,{children:"Edit post"}),Object(j.jsx)(d.a,{children:"Delete post"})]})]}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{className:"comments-container",children:i.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:e.email}),Object(j.jsx)("h3",{children:e.body})]},t)}))})]})})),v=Object(c.memo)((function(e){var t=e.posts;return Object(j.jsx)("div",{className:"data-table",children:Object(j.jsx)("table",{children:Object(j.jsx)("tbody",{children:t.map((function(e,t){return Object(c.createElement)(g,Object(i.a)(Object(i.a)({},e),{},{key:t}))}))})})})})),T=n(23),x=n(20),P=n(211),y=n(202),C=n(203),k=n(132),w=Object(k.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"300px"}}}})),N=function(e){var t=e.onDialogClose,n=e.isEditing,r=e.selectedPost,s=w(),o=function(e){var t=Object(c.useState)(e),n=Object(T.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)({}),a=Object(T.a)(o,2),l=a[0],d=a[1],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=Object(i.a)({},l);"title"in e&&(t.title=e.title?"":"This field is required."),"body"in e&&(t.body=e.body?"":"This field is required."),d(Object(i.a)({},t))};return{handleInputValue:function(e){var t=e.target,n=t.name,o=t.value;s(Object(i.a)(Object(i.a)({},r),{},Object(x.a)({},n,o))),m(Object(x.a)({},n,o))},formValues:r,formIsValid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return m(),e.title&&e.body&&Object.values(l).every((function(e){return""===e}))},errors:l}}({id:n?r.id:null,title:n?r.title:"",body:n?r.body:"",formSubmitted:!1,success:!1}),a=o.handleInputValue,l=o.formValues,m=o.errors,u=o.formIsValid;return Object(j.jsx)("div",{className:"flex-column flex-center",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),u()){var i={id:n?l.id:101,title:l.title,body:l.body};t(i)}},className:"flex-column "+s.root,children:[Object(j.jsx)(P.a,Object(i.a)({name:"title",value:l.title,variant:"outlined",onChange:a,onBlur:a,label:"Title"},m.title&&{error:!0,helperText:m.title})),Object(j.jsx)(P.a,Object(i.a)({name:"body",value:l.body,variant:"outlined",multiline:!0,onChange:a,onBlur:a,label:"Body",rows:"5"},m.body&&{error:!0,helperText:m.body})),Object(j.jsx)(d.a,{variant:"contained",type:"submit",color:"primary",children:"Submit"})]})})},S=Object(k.a)({padding:{padding:"0 15px 15px 15px"}}),W=function(e){var t=e.onClose,n=e.open,i=e.isEditing,r=e.selectedPost,s=S();return Object(j.jsxs)(y.a,{onClose:function(){return t(null)},open:n,children:[Object(j.jsx)(C.a,{children:i?"Edit post":"Add post"}),Object(j.jsx)("div",{className:"flex-column flex-center ".concat(s.padding),children:Object(j.jsx)(N,{onDialogClose:function(e){return t(e)},isEditing:i,selectedPost:r})})]})},I=function(e){var t=e.cb,n=e.isEditing,r=void 0!==n&&n,s=e.postId,o=Object(c.useState)(!1),a=Object(T.a)(o,2),l=a[0],m=a[1],u=Object(c.useState)({}),h=Object(T.a)(u,2),b=h[0],p=h[1],f={onClose:function(e){m(!1),e&&t(e)},open:l,isEditing:r,selectedPost:b};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.a,{variant:"contained",color:"primary",className:"ButtonMargin",onClick:r?function(){O.getPost(s).then((function(e){p(e.data),m(!0)}))}:function(){m(!0)},children:r?"Edit post":"Add post"}),Object(j.jsx)(W,Object(i.a)({},f))]})},A=Array.from({length:100},(function(e,t){return t+1})),E=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).addPostTimer=new l.a("addPostTimer"),e.updatePostTimer=new l.a("updatePostTimer"),e.getPostTimer=new l.a("getPostTimer"),e.getPostsWithCommentsTimer=new l.a("getPostsWithCommentsTimer"),e.deletePostTimer=new l.a("deletePostTimer"),e.renderTimer=new l.a("renderTimer"),e.state={posts:[],selectedPost:null,postId:1,addPostTimer:null,updatePostTimer:null,getPostTimer:null,getPostsWithCommentsTimer:null,deletePostTimer:null,renderTimer:null},e}return Object(s.a)(n,[{key:"addPost",value:function(e){var t=this;this.addPostTimer.startTimer(),O.createPost(e).then((function(){t.addPostTimer.stopTimer(),t.setState({addPostTimer:t.addPostTimer})}))}},{key:"updatePost",value:function(e){var t=this;this.updatePostTimer.startTimer(),O.updatePost(e).then((function(){t.updatePostTimer.stopTimer(),t.setState({updatePostTimer:t.updatePostTimer})}))}},{key:"getSelectedPost",value:function(){var e=this;this.getPostTimer.startTimer(),O.getPost(this.state.postId).then((function(t){e.getPostTimer.stopTimer(),e.setState({selectedPost:t.data,getPostTimer:e.getPostTimer})}))}},{key:"getPostsWithComments",value:function(){var e=this;this.setState({posts:[]},(function(){e.getPostsWithCommentsTimer.startTimer(),O.getPostsWithComments().then((function(t){e.getPostsWithCommentsTimer.stopTimer(),e.renderTimer.startTimer(),e.setState({posts:t,getPostsWithCommentsTimer:e.getPostsWithCommentsTimer},(function(){e.renderTimer.stopTimer(),e.setState({renderTimer:e.renderTimer})}))}))}))}},{key:"deletePost",value:function(){var e=this;this.deletePostTimer.startTimer(),O.deletePost(this.state.postId).then((function(){e.deletePostTimer.stopTimer(),e.setState({deletePostTimer:e.deletePostTimer})}))}},{key:"handleRowsNumberChange",value:function(e){this.setState({rowsNumber:e})}},{key:"clear",value:function(){window.location.reload()}},{key:"render",value:function(){var e=this,t=this.state.selectedPost;return Object(j.jsxs)("div",{className:"json-placeholder-container",children:[Object(j.jsxs)("div",{className:"actions",children:[Object(j.jsx)("div",{children:Object(j.jsx)(m.a,{title:"Choose post id",initialValue:this.state.postId,handleChange:function(t){return e.handleRowsNumberChange(t.target.value)},selectDropdownList:A})}),Object(j.jsxs)("div",{className:"flex-row operations",children:[Object(j.jsx)(I,{cb:function(t){return e.addPost(t)}}),Object(j.jsx)(I,{cb:function(t){return e.updatePost(t)},isEditing:!0,postId:this.state.postId}),Object(j.jsx)(d.a,{variant:"contained",color:"primary",className:"ButtonMargin",onClick:function(){return e.getSelectedPost()},children:"Get post"}),Object(j.jsx)(d.a,{variant:"contained",color:"primary",className:"ButtonMargin",onClick:function(){return e.deletePost()},children:"Delete post"}),Object(j.jsx)(d.a,{variant:"contained",color:"primary",className:"ButtonMargin",onClick:function(){return e.getPostsWithComments()},children:"Get 100 posts with 500 comments"}),Object(j.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){return e.clear()},children:"Clear"})]})]}),Object(j.jsx)("div",{className:"result-container",children:Object(j.jsx)(h,Object(i.a)({},this.state))}),Object(j.jsx)("div",{children:t&&Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Selected post:"})," ",t.id," | ",t.title," | ",t.body]})}),Object(j.jsx)(v,{posts:this.state.posts})]})}}]),n}(c.Component)}}]);
//# sourceMappingURL=6.7362abe3.chunk.js.map